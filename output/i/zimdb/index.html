<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />
  
  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width,max-scale=1" />
  
  <title>Writing an API wrapper in Ruby with HTTParty and Fakeweb</title>
  <link href="/feed.xml" rel="alternate" title="meatspace RSS" type="application/atom+xml">
  
  <!-- Included CSS Files -->
  <link rel="stylesheet" href="/stylesheets/foundation.css">
  <link rel="stylesheet" href="/stylesheets/app.css">
  <link rel="stylesheet" href="/stylesheets/coderay.css">
  
  <script type="text/javascript" src="http://use.typekit.com/otz2xgn.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
  <!--[if lt IE 9]>
    <link rel="stylesheet" href="/stylesheets/ie.css">
  <![endif]-->
  
  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  
</head>
<body>

  <div id="navigation">
    <div class="container">
      <div class="row">
        <div class="twelve columns">
          <span class="meatspace"><a href="/">meatspace</a></span> <span class="show-on-phones-inline">mobile</span> (<a href="/about">about</a>)
        </div>
      </div>
    </div>
  </div>
  
  <!-- container -->
  <div class="container">
    <div class="row">
      <div class="twelve columns">
        <h1 id="writing-an-api-wrapper-in-ruby-with-httparty-and-fakeweb">Writing an API wrapper in Ruby with HTTParty and Fakeweb</h1>

<p>This is a quick tutorial on writing a fully-tested API wrapper in Ruby. As example, I am taking <a href="https://github.com/indrode/zimdb">zimdb</a>, a small gem that I developed the other day. First, I’ll cover the (test-driven) implementation of the functionality. To top it off, I’ll explain the process of creating a gem that can be used by other developers.</p>

<h2 id="what-does-zimdb-do">What does zimdb do?</h2>

<p>Zimdb is a wrapper for <a href="http://www.imdbapi.com/">imdbapi.com</a>, a service that provides content from the vast movie database <a href="http://www.imdb.com/">IMDB</a> which I am sure everyone has heard of. IMDb doesn’t provide it’s own open API to developers, so in order to access information, we’ll have to resort to 3rd party providers. Right now, zimdb only fetches information about a single movie and the only way to access information for a specific movie is to search it by its title. For the scope of this article, that should be all we need.</p>

<h2 id="a-simple-approach">A simple approach</h2>

<p>The imdbapi.com “API” (it’s basically just one call) is very straight-forward. Still, it’s always good to have a general idea of what we want to do, before daftly jumping into the code. Here are the different steps of this approach: </p>

<ol>
<li>trigger a sample call and examine the result</li>
  <li>define what we want to fetch (via tests)</li>
  <li>implement it!</li>
  <li>transform it into a gem (we may do that earlier in the process)</li>
</ol><h3 id="the-call">1. The Call</h3>

<p><a href="http://www.imdbapi.com/">imdbapi.com</a> provides a nice interface to make sample calls. It is also very convenient that responses are nicely packed in a JSON. For now, we’ll just search for movies by title, but we could additionally allow searching movies by IMDb-ID and year. Here is how a sample response looks like:</p>

<pre><code class="language-json">{<span class="key"><span class="delimiter">"</span><span class="content">Title</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">The Godfather</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Year</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">1972</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Rated</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">R</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Released</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">24 Mar 1972</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Genre</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">Crime, Drama</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Director</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">Francis Ford Coppola</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Writer</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">Mario Puzo, Mario Puzo</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Actors</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">Marlon Brando, Al Pacino, James Caan, Diane Keaton</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Plot</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Poster</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">http://ia.media-imdb.com/images/M/MV5BMTIyMTIxNjI5NF5BMl5BanBnXkFtZTcwNzQzNDM5MQ@@._V1._SX320.jpg</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Runtime</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">2 hrs 55 mins</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Rating</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">9.2</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Votes</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">436305</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">ID</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">tt0068646</span><span class="delimiter">"</span></span>,<span class="key"><span class="delimiter">"</span><span class="content">Response</span><span class="delimiter">"</span></span>:<span class="string"><span class="delimiter">"</span><span class="content">True</span><span class="delimiter">"</span></span>}</code></pre>

<p>For our API wrapper, we would like to fetch all of these movie attributes. So let’s fire up your favorite text editor and create a new file. We’ll create a new folder and some subfolders too while we’re at it.</p>

<pre><code class="language-sql">mkdir zimdb
cd zimdb
mkdir lib
mkdir spec
mate spec/movie_spec.rb</code></pre>

<h3 id="a-first-test">2. A first test</h3>

<p>We will use <code>rspec</code> to test our gem, so make sure it is installed (<code>gem install rspec</code>). In <code>movie_spec.rb</code>, we can then add a first test for a very common task we want the gem to achieve.</p>

<pre><code class="language-ruby">describe <span class="string"><span class="delimiter">"</span><span class="content">zimdb</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
  it <span class="string"><span class="delimiter">"</span><span class="content">should fetch a movie title</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
    movie = <span class="constant">Zimdb</span>::<span class="constant">Movie</span>.new(<span class="symbol">:title</span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Hangover</span><span class="delimiter">"</span></span>)
    movie.title.should == <span class="string"><span class="delimiter">"</span><span class="content">The Godfather</span><span class="delimiter">"</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

<p>This already does more than one step at once, but I will keep this tutorial rather brief, so let’s this this file with <code>rspec spec/movie_spec.rb</code> and see what’s happening.</p>

<pre><code class="language-sql">F

Failures:

  <span class="integer">1</span>) zimdb should fetch a movie title
     Failure/Error: movie = Zimdb::Movie.new(:title =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Hangover</span><span class="delimiter">"</span></span>)
     NameError:
       uninitialized constant Zimdb
     <span class="comment"># ./spec/movie_spec.rb:5:in `block (2 levels) in &lt;top (required)&gt;'</span>

Finished <span class="keyword">in</span> <span class="float">0.47559</span> seconds
<span class="integer">1</span> example, <span class="integer">1</span> failure

Failed examples:

rspec ./spec/movie_spec.rb:<span class="integer">4</span> <span class="comment"># zimdb should fetch a movie title</span></code></pre>

<p>Nothing unexpected here, considering that we haven’t written a single line of actual code. In our test, we already made a couple of assumptions. First, we want to create a module called <code>Zimdb</code> because we want to pack it into a gem later. Then, we need a class <code>Movie</code> which can be instantiated by passing it the param <code>:title</code>. Maybe, at some later point in time, we’ll also want to fetch movies via the IMDb-ID, which is why we are passing the movie title via the <code>:title</code> symbol. Finally, we have a <code>title</code> method for each Movie object that returns the movie’s title.</p>

<h3 id="some-more-tests">3. Some more tests</h3>

<p>Because we wanted to define the attributes we wanted to fetch (for the sake of brevity, let’s just get a few of them), let’s add these to our spec file as well. We will still implement them one by one. Since we are aways instantiating a new movie object, we’ll put that into a <code>before(:each)</code> block. Here is our movie_spec.rb:</p>

<pre><code class="language-ruby">describe <span class="string"><span class="delimiter">"</span><span class="content">zimdb</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
  before(<span class="symbol">:each</span>) <span class="keyword">do</span>
    <span class="instance-variable">@movie</span> = <span class="constant">Zimdb</span>::<span class="constant">Movie</span>.new(<span class="symbol">:title</span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Godfather</span><span class="delimiter">"</span></span>)
  <span class="keyword">end</span>
  
  it <span class="string"><span class="delimiter">"</span><span class="content">should return the title</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
    <span class="instance-variable">@movie</span>.title.should == <span class="string"><span class="delimiter">"</span><span class="content">The Hangover</span><span class="delimiter">"</span></span>
  <span class="keyword">end</span>
  
  it <span class="string"><span class="delimiter">"</span><span class="content">should return the year</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
    <span class="instance-variable">@movie</span>.year.should == <span class="integer">1972</span>
  <span class="keyword">end</span>
  
  it <span class="string"><span class="delimiter">"</span><span class="content">should return the rating</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
    <span class="instance-variable">@movie</span>.rated.should == <span class="string"><span class="delimiter">"</span><span class="content">R</span><span class="delimiter">"</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

<h3 id="setting-up-the-gem-with-bundler">4. Setting up the Gem with Bundler</h3>

<p>Okay, now let’s get going and start to code? Not quite yet. Since we want to create a new gem anyway, why not set it up now, so we can start developing in the right places and don’t have to move too many files around later. We will use <code>Bundler</code> to set up our gem.</p>

<pre><code class="language-ruby">bundle gem zimdb</code></pre>

<p>Run this from the level below the <code>/zimdb</code> folder and it will create a couple of useful files, such as the gemspec file <code>zimdb.gemspec</code>. There are various tutorials on the web on how to customize this gemspec file to I will make this short. We only need to add two dependencies apart from rspec: <code>httparty</code> (for runtime) and <code>fakeweb</code> (for development). More on these in a second.</p>

<pre><code class="language-ruby">s.add_runtime_dependency <span class="string"><span class="delimiter">"</span><span class="content">httparty</span><span class="delimiter">"</span></span>
s.add_development_dependency <span class="string"><span class="delimiter">"</span><span class="content">rspec</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">~&gt; 2.6</span><span class="delimiter">"</span></span>
s.add_development_dependency <span class="string"><span class="delimiter">"</span><span class="content">fakeweb</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">~&gt; 1.3</span><span class="delimiter">"</span></span></code></pre>

<p>We can also use this moment to setup a <code>spec_helper.rb</code> to use for testing (we will need it later). In <code>/spec</code> we create that file and add some code to it:</p>

<pre><code class="language-ruby">require <span class="string"><span class="delimiter">'</span><span class="content">rubygems</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">bundler/setup</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">zimdb</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">fakeweb</span><span class="delimiter">'</span></span>

<span class="constant">RSpec</span>.configure <span class="keyword">do</span> |config|
  <span class="comment"># we'll add more here later</span>
<span class="keyword">end</span></code></pre>

<p>In our <code>movie_spec.rb</code> we can now <code>require 'spec_helper'</code> instead of requiring rspec.</p>

<h3 id="fakeweb">5. Fakeweb</h3>

<p>In our final code, we will make calls to imdbapi.com, but we don’t want to do that for testing. To fake these web requests, we will take advantage of a neat little gem called <code>fakeweb</code> (see <a href="https://github.com/chrisk/fakeweb">https://github.com/chrisk/fakeweb</a>). Let’s just drop the response we got earlier and drop it into <code>spec/fixtures</code>. For testing purposes, we will read the contents of that file, whenever a test tries to make such a request. Still in <code>spec_helper.rb</code> we can add the following code to the RSpec configure-block:</p>

<pre><code class="language-ruby"><span class="constant">RSpec</span>.configure <span class="keyword">do</span> |config|
  <span class="keyword">def</span> <span class="function">fixture</span>(filename)
    <span class="constant">File</span>.dirname(<span class="predefined-constant">__FILE__</span>) + <span class="string"><span class="delimiter">'</span><span class="content">/fixtures/</span><span class="delimiter">'</span></span> + filename
  <span class="keyword">end</span>
  
  <span class="constant">FakeWeb</span>.register_uri(<span class="symbol">:get</span>, <span class="string"><span class="delimiter">"</span><span class="content">http://www.imdbapi.com/?t=hangover</span><span class="delimiter">"</span></span>, <span class="symbol">:body</span> =&gt; open(fixture(<span class="string"><span class="delimiter">"</span><span class="content">godfather.json</span><span class="delimiter">"</span></span>)).read)
<span class="keyword">end</span></code></pre>

<p>This assumed that we called the file <code>godfather.json</code>.</p>

<h3 id="httparty">6. HTTParty</h3>

<p>Now that we have set up everything we need, we can finally start coding. There isn’t really too much to do thanks to the great <code>httparty</code> gem (see <a href="https://github.com/jnunemaker/httparty">https://github.com/jnunemaker/httparty</a>).</p>

<p>But first let’s see where we want to put our code. In <code>lib/zimdb.rb</code> we will have to require some dependencies and include httparty while we’re at it to make it available to all the classes which we define under <code>lib/zimdb/</code>. In our example, we only have the <code>Movie</code> class, but it’s still a good idea to separate the files. This leaves us with a very simple zimdb.rb:</p>

<pre><code class="language-ruby">require <span class="string"><span class="delimiter">"</span><span class="content">rubygems</span><span class="delimiter">"</span></span>
require <span class="string"><span class="delimiter">"</span><span class="content">httparty</span><span class="delimiter">"</span></span>
require <span class="string"><span class="delimiter">"</span><span class="content">json</span><span class="delimiter">"</span></span>
require <span class="string"><span class="delimiter">"</span><span class="content">zimdb/movie</span><span class="delimiter">"</span></span>

<span class="keyword">module</span> <span class="class">Zimdb</span>
  include <span class="constant">HTTParty</span>
<span class="keyword">end</span></code></pre>

<p>Now on to ‘lib/zimdb/movie.rb’:</p>

<pre><code class="language-ruby"><span class="keyword">module</span> <span class="class">Zimdb</span>
  <span class="keyword">class</span> <span class="class">Movie</span>
    <span class="keyword">def</span> <span class="function">initialize</span>(params)
      <span class="instance-variable">@json</span> = <span class="constant">JSON</span>.parse(<span class="constant">HTTParty</span>.get(<span class="string"><span class="delimiter">"</span><span class="content">http://www.imdbapi.com/?t=</span><span class="inline"><span class="inline-delimiter">#{</span>params[<span class="symbol">:title</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>))
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

<p>It really couldn’t be much simpler. We now have <code>@json</code>, which is a hash of the response of our call. This won’t make our tests pass, so let’s add a method to get the movie title:</p>

<pre><code class="language-ruby"><span class="keyword">def</span> <span class="function">title</span>
  <span class="instance-variable">@json</span>[<span class="string"><span class="delimiter">"</span><span class="content">Title</span><span class="delimiter">"</span></span>]
<span class="keyword">end</span></code></pre>

<p>Running the tests now yields the following output:</p>

<pre><code class="language-sql">.FF

Failures:

  <span class="integer">1</span>) zimdb should <span class="directive">return</span> the <span class="predefined-type">year</span>
     Failure/Error: <span class="variable">@movie</span>.year.should == <span class="integer">2009</span>
     NoMethodError:
       undefined method <span class="string"><span class="delimiter">`</span><span class="content">year' for #&lt;Zimdb::Movie:0x007fe204aa8a50&gt;
     # ./spec/movie_spec.rb:30:in </span><span class="delimiter">`</span></span>block (<span class="integer">2</span> levels) <span class="keyword">in</span> &lt;top (required)&gt;<span class="string"><span class="delimiter">'</span><span class="content">

  2) zimdb should return the rating
     Failure/Error: @movie.rated.should == "R"
     NoMethodError:
       undefined method `rated</span><span class="delimiter">'</span></span> <span class="keyword">for</span> <span class="comment">#&lt;Zimdb::Movie:0x007fe203901108&gt;</span>
     <span class="comment"># ./spec/movie_spec.rb:34:in `block (2 levels) in &lt;top (required)&gt;'</span>

Finished <span class="keyword">in</span> <span class="float">1.21</span> seconds
<span class="integer">3</span> examples, <span class="integer">2</span> failures

Failed examples:

rspec ./spec/movie_spec.rb:<span class="integer">29</span> <span class="comment"># zimdb should return the year</span>
rspec ./spec/movie_spec.rb:<span class="integer">33</span> <span class="comment"># zimdb should return the rating</span></code></pre>

<p>Looking good! One test already passed.</p>

<h3 id="make-all-tests-pass">7. Make all tests pass</h3>

<p>To make the other tests pass is just as simple.</p>

<pre><code class="language-ruby"><span class="keyword">def</span> <span class="function">year</span>
  <span class="instance-variable">@json</span>[<span class="string"><span class="delimiter">"</span><span class="content">Year</span><span class="delimiter">"</span></span>].to_i
<span class="keyword">end</span>

<span class="keyword">def</span> <span class="function">rated</span>
  <span class="instance-variable">@json</span>[<span class="string"><span class="delimiter">"</span><span class="content">Rated</span><span class="delimiter">"</span></span>]
<span class="keyword">end</span></code></pre>

<p>All the tests pass! However, I do not like <code>@json["Year"]</code>. In my opinion, something like <code>@json[:year]</code> looks a lot cleaner and opens up more possibilities. While we would normally just implement the least amount of code to make all the tests pass, I do want to add a little method to <code>Hash</code> that creates these symbolized keys. Let’s call it <code>symbolize_keys</code> and write a test in <code>spec/hash_spec.rb</code>:</p>

<pre><code class="language-ruby">require <span class="string"><span class="delimiter">'</span><span class="content">spec_helper</span><span class="delimiter">'</span></span>

describe <span class="constant">Hash</span> <span class="keyword">do</span>
  it <span class="string"><span class="delimiter">"</span><span class="content">should symbolize keys</span><span class="delimiter">"</span></span> <span class="keyword">do</span>
    hash_with_string_keys = { <span class="string"><span class="delimiter">"</span><span class="content">Title</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">The Hangover</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Year</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">2009</span><span class="delimiter">"</span></span> }
    hash_with_string_keys.symbolize_keys
    hash_with_string_keys.should == { <span class="symbol">:title</span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">The Hangover</span><span class="delimiter">"</span></span>, <span class="symbol">:year</span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">2009</span><span class="delimiter">"</span></span> }
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

<p>Basically, we have a hash with ugly strings as keys and want to transform the keys into nice Ruby-esque symbols by calling <code>symbolize_keys</code> on that hash. To do this, we extend the <code>Hash</code> class (in <code>lib/zimdb/hash.rb</code>)and implement this behavior:</p>

<pre><code class="language-ruby"><span class="keyword">class</span> <span class="class">Hash</span>
  <span class="keyword">def</span> <span class="function">symbolize_keys</span>
    hash = <span class="predefined-constant">self</span>.dup
    <span class="predefined-constant">self</span>.clear
    hash.each_pair{|k, v| <span class="predefined-constant">self</span>[k.downcase.to_sym] = v}
    <span class="predefined-constant">self</span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

<p>We require this in <code>lib/zimdb.rb</code> and add it to our Movie class:</p>

<pre><code class="language-ruby"><span class="instance-variable">@json</span> = <span class="constant">JSON</span>.parse(<span class="constant">HTTParty</span>.get(<span class="string"><span class="delimiter">"</span><span class="content">http://www.imdbapi.com/?t=</span><span class="inline"><span class="inline-delimiter">#{</span>params[<span class="symbol">:title</span>]<span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>)).symbolize_keys</code></pre>

<p>Now we can rewrite our methods as follows:</p>

<pre><code class="language-ruby"><span class="keyword">def</span> <span class="function">year</span>
  <span class="instance-variable">@json</span>[<span class="symbol">:year</span>].to_i
<span class="keyword">end</span></code></pre>

<h3 id="and-where-is-the-gem">8. And where is the gem?</h3>

<p>Our code is implemented and our tests are passing. The next step would be to package it all into a gem using the <code>gem</code> command-line tools. Read more about this in the <a href="http://docs.rubygems.org/read/book/2">rubygems documentation</a>. It would be wise to create a sample Ruby app that uses the gem, for example querying the user for a movie title and then spitting out some information about that movie. Or, we could just test it in the Ruby shell. Of course, adding the remaining attributes and handling empty responses (what happens when our movie wasn’t found?) should be taken care of as well.</p>

<p>To view the current state of the actual zimdb gem, check out on <a href="https://github.com/indrode/zimdb">GitHub</a> or browse the <a href="http://rubydoc.info/gems/zimdb/0.0.1/frames">documentation</a>. Install it the old-fashioned way:</p>

<pre><code class="language-sql">gem install zimdb</code></pre>

<p>You may also dump it into your <code>Gemfile</code> if you are using Bundler.</p>

<pre><code class="language-sql">gem <span class="string"><span class="delimiter">"</span><span class="content">zimdb</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">~&gt; 0.0.1</span><span class="delimiter">"</span></span></code></pre>
        <div class="infoline"><a href="/i/zimdb/">Permalink</a> &middot; Written on 2011-11-15</class>
      </div>
    </div>
  </div>
  <!-- container -->


  <hr />
  
  <!-- Included JS Files -->
  <script src="/javascripts/foundation.js"></script>
  <script src="/javascripts/app.js"></script>

</body>
</html>

